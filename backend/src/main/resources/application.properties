# --- App & server ---
spring.application.name=LibroRed
server.port=8443

# SSL (self-signed for local HTTPS; keep keystore in src/main/resources)
server.ssl.enabled=true
server.ssl.key-store=classpath:keystore.jks
server.ssl.key-store-password=password
server.ssl.key-password=password
# server.ssl.key-alias=selfsigned   # Use the alias you actually used when creating the keystore

# Encoding (ñ/acentos OK)
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# --- Static resources & Views (teacher style: Mustache templates end with .html) ---
spring.web.resources.static-locations=classpath:/static/
spring.mustache.prefix=classpath:/templates/
spring.mustache.suffix=.html

# --- DataSource (MySQL) ---
spring.datasource.url=jdbc:mysql://localhost:3306/librored?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=librored
spring.datasource.password=librored

# --- JPA / Hibernate ---
# P1: keep schema auto-updated while developing (teacher uses update normally)
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.open-in-view=false
spring.jpa.defer-datasource-initialization=true

# --- Logging (commented by default) ---
# Enable only when debugging issues; too verbose for normal runs
# logging.level.org.springframework.security=DEBUG
# logging.level.org.springframework.web=DEBUG
# logging.level.org.hibernate.SQL=DEBUG
# logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
